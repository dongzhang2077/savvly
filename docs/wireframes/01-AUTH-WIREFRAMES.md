# 登录/注册界面线框图

## 📱 页面概览

认证流程是用户进入 Savvly 的第一步，设计必须：
- **简洁友好** - 最少输入，快速完成
- **安全安心** - 清晰说明隐私保护
- **无焦虑** - 温暖语调，非威胁性

---

## 1. 欢迎页面 (Welcome Screen)

### 桌面端布局 (1024px+)

```
┌────────────────────────────────────────────────────────────────────┐
│                                                                    │
│  ┌────────────────────┐     ┌──────────────────────────────────┐  │
│  │                    │     │                                  │  │
│  │                    │     │         💰 Savvly                │  │
│  │   [品牌插图/图片]   │     │                                  │  │
│  │                    │     │  👋 欢迎来到 Savvly              │  │
│  │   展示预算概念      │     │                                  │  │
│  │   平静、友好的视觉   │     │  专为自由职业者设计的           │  │
│  │                    │     │  智能预算工具                    │  │
│  │                    │     │                                  │  │
│  │                    │     │  ✓ 不规则收入友好               │  │
│  │                    │     │  ✓ 智能预算回滚                 │  │
│  │                    │     │  ✓ 加拿大税务预留               │  │
│  │                    │     │                                  │  │
│  │                    │     │  ┌────────────────────────────┐ │  │
│  │                    │     │  │ [开始使用 →]               │ │  │
│  │                    │     │  │ (Primary Button)           │ │  │
│  │                    │     │  └────────────────────────────┘ │  │
│  │                    │     │                                  │  │
│  │                    │     │  已有账户？<a>登录</a>           │  │
│  │                    │     │                                  │  │
│  └────────────────────┘     └──────────────────────────────────┘  │
│                                                                    │
└────────────────────────────────────────────────────────────────────┘

色彩说明：
- 背景：白色 (#FFFFFF)
- 标题：深灰 (#111827)
- 说明文字：中灰 (#6B7280)
- 主按钮：蓝色 (#3B82F6)
- 链接：蓝色 (#3B82F6)
```

### 移动端布局 (<640px)

```
┌─────────────────────────────┐
│                             │
│                             │
│      💰 Savvly              │
│                             │
│                             │
│    [简化品牌插图]            │
│                             │
│                             │
│  👋 欢迎来到 Savvly         │
│                             │
│  专为自由职业者设计的         │
│  智能预算工具                │
│                             │
│  ✓ 不规则收入友好            │
│  ✓ 智能预算回滚              │
│  ✓ 加拿大税务预留            │
│                             │
│  ┌───────────────────────┐  │
│  │  [开始使用 →]         │  │
│  └───────────────────────┘  │
│                             │
│  已有账户？<a>登录</a>       │
│                             │
│                             │
└─────────────────────────────┘

间距：
- 外边距：16px (p-4)
- 元素间距：24px (space-y-6)
- 按钮高度：48px (h-12)
```

---

## 2. 注册页面 (Sign Up)

### 桌面端布局

```
┌────────────────────────────────────────────────────────────────────┐
│                                                                    │
│                        [← 返回]    💰 Savvly                       │
│                                                                    │
│                                                                    │
│              ┌──────────────────────────────────────┐             │
│              │                                      │             │
│              │    🎉 创建你的 Savvly 账户           │             │
│              │                                      │             │
│              │    让我们确保每一块钱都为你工作      │             │
│              │                                      │             │
│              │    ┌──────────────────────────────┐ │             │
│              │    │ [继续使用 Google]            │ │             │
│              │    │  G  (OAuth 快速登录)         │ │             │
│              │    └──────────────────────────────┘ │             │
│              │                                      │             │
│              │    ──────── 或 ────────              │             │
│              │                                      │             │
│              │    邮箱地址                          │             │
│              │    ┌──────────────────────────────┐ │             │
│              │    │ your@email.com               │ │             │
│              │    └──────────────────────────────┘ │             │
│              │                                      │             │
│              │    密码                              │             │
│              │    ┌──────────────────────────────┐ │             │
│              │    │ ••••••••                     │ │             │
│              │    └──────────────────────────────┘ │             │
│              │    至少 8 个字符                     │             │
│              │                                      │             │
│              │    姓名 (可选)                       │             │
│              │    ┌──────────────────────────────┐ │             │
│              │    │ 张三                         │ │             │
│              │    └──────────────────────────────┘ │             │
│              │                                      │             │
│              │    ┌──────────────────────────────┐ │             │
│              │    │ [创建账户 →]                 │ │             │
│              │    │ (Primary Button)             │ │             │
│              │    └──────────────────────────────┘ │             │
│              │                                      │             │
│              │    创建账户即表示你同意我们的         │             │
│              │    <a>服务条款</a> 和               │             │
│              │    <a>隐私政策</a>                  │             │
│              │                                      │             │
│              │    已有账户？<a>登录</a>             │             │
│              │                                      │             │
│              └──────────────────────────────────────┘             │
│                                                                    │
│                    🔒 你的数据安全加密                             │
│                                                                    │
└────────────────────────────────────────────────────────────────────┘

组件规格：
- 卡片宽度：480px (max-w-md)
- 卡片圆角：12px (rounded-xl)
- 卡片阴影：shadow-lg
- 输入框高度：48px (h-12)
- 输入框圆角：6px (rounded-md)
- 按钮高度：48px (h-12)
- 标题字号：24px (text-2xl)
- 正文字号：16px (text-base)
- 说明字号：14px (text-sm)
```

### 移动端布局

```
┌─────────────────────────────┐
│  [← 返回]    💰 Savvly      │
├─────────────────────────────┤
│                             │
│  🎉 创建你的 Savvly 账户     │
│                             │
│  让我们确保每一块钱都为你工作 │
│                             │
│  ┌───────────────────────┐  │
│  │ [继续使用 Google]     │  │
│  │  G                    │  │
│  └───────────────────────┘  │
│                             │
│  ──────── 或 ────────       │
│                             │
│  邮箱地址                    │
│  ┌───────────────────────┐  │
│  │ your@email.com        │  │
│  └───────────────────────┘  │
│                             │
│  密码                        │
│  ┌───────────────────────┐  │
│  │ ••••••••              │  │
│  └───────────────────────┘  │
│  至少 8 个字符               │
│                             │
│  姓名 (可选)                 │
│  ┌───────────────────────┐  │
│  │ 张三                  │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │ [创建账户 →]          │  │
│  └───────────────────────┘  │
│                             │
│  创建账户即表示你同意我们的  │
│  <a>服务条款</a>和          │
│  <a>隐私政策</a>            │
│                             │
│  已有账户？<a>登录</a>       │
│                             │
│  🔒 你的数据安全加密         │
│                             │
└─────────────────────────────┘

移动端优化：
- 全宽布局 (px-4)
- 更大触控目标 (h-12)
- 减少外边距
- 简化分隔线
```

---

## 3. 登录页面 (Sign In)

### 桌面端布局

```
┌────────────────────────────────────────────────────────────────────┐
│                                                                    │
│                        [← 返回]    💰 Savvly                       │
│                                                                    │
│                                                                    │
│              ┌──────────────────────────────────────┐             │
│              │                                      │             │
│              │    👋 欢迎回来                       │             │
│              │                                      │             │
│              │    ┌──────────────────────────────┐ │             │
│              │    │ [使用 Google 登录]           │ │             │
│              │    │  G                           │ │             │
│              │    └──────────────────────────────┘ │             │
│              │                                      │             │
│              │    ──────── 或 ────────              │             │
│              │                                      │             │
│              │    邮箱地址                          │             │
│              │    ┌──────────────────────────────┐ │             │
│              │    │ your@email.com               │ │             │
│              │    └──────────────────────────────┘ │             │
│              │                                      │             │
│              │    密码                              │             │
│              │    ┌──────────────────────────────┐ │             │
│              │    │ ••••••••                     │ │             │
│              │    └──────────────────────────────┘ │             │
│              │                                      │             │
│              │    <a>忘记密码？</a>                 │             │
│              │                                      │             │
│              │    ┌──────────────────────────────┐ │             │
│              │    │ [登录 →]                     │ │             │
│              │    │ (Primary Button)             │ │             │
│              │    └──────────────────────────────┘ │             │
│              │                                      │             │
│              │    还没有账户？<a>注册</a>           │             │
│              │                                      │             │
│              └──────────────────────────────────────┘             │
│                                                                    │
│                    🔒 你的数据安全加密                             │
│                                                                    │
└────────────────────────────────────────────────────────────────────┘
```

### 表单验证状态

```
成功状态：
┌───────────────────────────┐
│ ✓ 邮箱地址                 │ ← 绿色边框 (border-green-500)
│ user@example.com          │
└───────────────────────────┘
  看起来不错 ✓               ← 绿色文字 (text-green-600)


错误状态：
┌───────────────────────────┐
│ ✗ 密码                     │ ← 橙色边框 (border-orange-400)
│ ••••                      │    非红色！
└───────────────────────────┘
  密码至少需要 8 个字符       ← 橙色文字 (text-orange-600)


加载状态：
┌───────────────────────────┐
│ [⟳ 登录中...]             │ ← 禁用状态
│ (Spinner + 文字)           │    opacity-50
└───────────────────────────┘
```

---

## 4. 忘记密码页面 (Forgot Password)

### 布局设计

```
┌─────────────────────────────┐
│  [← 返回登录]               │
├─────────────────────────────┤
│                             │
│  🔑 重置密码                │
│                             │
│  别担心，这种事常有。        │
│  输入你的邮箱，我们会发送    │
│  重置链接。                  │
│                             │
│  邮箱地址                    │
│  ┌───────────────────────┐  │
│  │ your@email.com        │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │ [发送重置链接 →]      │  │
│  └───────────────────────┘  │
│                             │
│  想起来了？<a>返回登录</a>   │
│                             │
└─────────────────────────────┘
```

### 发送成功状态

```
┌─────────────────────────────┐
│  [← 返回登录]               │
├─────────────────────────────┤
│                             │
│  ✉️ 邮件已发送              │
│                             │
│  我们已向                    │
│  <b>user@example.com</b>    │
│  发送了重置链接。            │
│                             │
│  请检查你的收件箱            │
│  (也看看垃圾邮件文件夹)      │
│                             │
│  ┌───────────────────────┐  │
│  │ [返回登录]            │  │
│  └───────────────────────┘  │
│                             │
│  没收到邮件？               │
│  <a>重新发送</a>            │
│                             │
└─────────────────────────────┘
```

---

## 5. OAuth 登录流程

### Google OAuth 按钮样式

```
标准状态：
┌─────────────────────────────────────┐
│  G  继续使用 Google                 │ ← 白色背景
│                                     │   灰色边框
└─────────────────────────────────────┘   黑色文字

悬停状态：
┌─────────────────────────────────────┐
│  G  继续使用 Google                 │ ← 浅灰背景
└─────────────────────────────────────┘   (hover:bg-gray-50)

加载状态：
┌─────────────────────────────────────┐
│  ⟳  正在连接 Google...              │ ← 禁用状态
└─────────────────────────────────────┘
```

### OAuth 流程图

```
用户点击 "继续使用 Google"
         ↓
打开 Google 授权页面 (新窗口/重定向)
         ↓
用户授权 ← → 用户拒绝
         ↓            ↓
     返回应用      返回登录页
         ↓        (温和提示)
  自动登录/注册
         ↓
    入职流程 (新用户)
       或
  直接进入仪表板 (现有用户)
```

---

## 6. 错误提示设计

### Toast 通知样式

```
成功 (绿色)：
┌─────────────────────────────────────┐
│ ✓  登录成功！欢迎回来 😊            │
└─────────────────────────────────────┘

温和错误 (橙色，非红色)：
┌─────────────────────────────────────┐
│ 🤔  邮箱或密码不对。再试一次？      │
└─────────────────────────────────────┘

信息提示 (蓝色)：
┌─────────────────────────────────────┐
│ 💡  密码重置链接已发送到你的邮箱    │
└─────────────────────────────────────┘
```

### 内联错误提示

```
邮箱格式错误：
┌───────────────────────────┐
│ ✗ 邮箱地址                 │ ← 橙色边框
│ invalid-email             │
└───────────────────────────┘
  请输入有效的邮箱地址        ← 橙色文字 (text-orange-600)


密码太短：
┌───────────────────────────┐
│ ✗ 密码                     │
│ ••••                      │
└───────────────────────────┘
  密码至少需要 8 个字符


账户不存在：
┌───────────────────────────┐
│ user@example.com          │
└───────────────────────────┘
  🤔 这个账户不存在。
  <a>创建新账户？</a>         ← 温和建议，非严厉警告
```

---

## 7. 语言与语调

### ✓ 使用（温暖、友好）

```
标题：
- "👋 欢迎回来"
- "🎉 创建你的 Savvly 账户"
- "别担心，这种事常有"

说明：
- "让我们确保每一块钱都为你工作"
- "你的数据安全加密 🔒"
- "也看看垃圾邮件文件夹 😉"

错误：
- "哎呀，出了点问题"
- "邮箱或密码不对。再试一次？"
- "这个账户不存在。创建新账户？"

成功：
- "登录成功！欢迎回来 😊"
- "重置链接已发送！"
```

### ✗ 避免（机械、威胁）

```
❌ "错误：无效凭证"
❌ "警告：账户不存在"
❌ "访问被拒绝"
❌ "身份验证失败"
❌ "必填字段"
```

---

## 8. 响应式适配

### 断点行为

```
移动端 (< 640px):
- 全屏布局，无卡片阴影
- 移除左侧品牌区域
- 简化 OAuth 按钮图标
- 更大的触控目标 (h-12)

平板 (640px - 1024px):
- 居中卡片布局
- 保留品牌元素（较小）
- 标准按钮尺寸

桌面 (> 1024px):
- 双栏布局（品牌 + 表单）
- 更宽松的间距
- 悬停效果
```

---

## 9. 无障碍设计

### 键盘导航顺序

```
1. [← 返回] 按钮
2. Logo (可点击回首页)
3. Google OAuth 按钮
4. 邮箱输入框
5. 密码输入框
6. [忘记密码？] 链接
7. [登录] 主按钮
8. [注册] 链接
```

### ARIA 标签示例

```tsx
<button
  aria-label="使用 Google 账户登录"
  className="..."
>
  <GoogleIcon aria-hidden="true" />
  继续使用 Google
</button>

<input
  id="email"
  type="email"
  aria-describedby="email-help"
  aria-invalid={hasError}
/>
<p id="email-help" className="text-sm text-gray-600">
  我们不会分享你的邮箱
</p>
```

---

## 10. 实现清单

### 组件列表
- [ ] AuthLayout (认证页面布局)
- [ ] WelcomePage (欢迎页)
- [ ] SignUpForm (注册表单)
- [ ] SignInForm (登录表单)
- [ ] ForgotPasswordForm (忘记密码)
- [ ] OAuthButton (OAuth 按钮)
- [ ] FormInput (表单输入框)
- [ ] FormLabel (表单标签)
- [ ] ErrorMessage (错误提示)
- [ ] LoadingButton (加载按钮)

### API 集成
- [ ] POST /api/auth/register
- [ ] POST /api/auth/callback/credentials
- [ ] POST /api/auth/forgot-password
- [ ] GET /api/auth/providers (OAuth)

### 验证规则
- [ ] 邮箱格式验证
- [ ] 密码长度验证 (≥8)
- [ ] 密码强度提示（可选）
- [ ] 防止重复提交

---

**文档版本**: v1.0
**页面数量**: 4 个核心页面
**组件数量**: 10 个
**状态**: ✅ 设计完成，待实现
